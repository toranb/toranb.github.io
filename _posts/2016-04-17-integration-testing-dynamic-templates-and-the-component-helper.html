---
layout: post
title: "Integration testing dynamic templates and the component helper"
date:   2016-04-17 18:10:00
categories: blog archive
---

<p>As a continued effort to share some popular questions from my workshop at <a href="http://emberconf.com/" target="_blank">EmberConf</a> last month I'm pushing ahead with another post on integration testing components. In the next few weeks I hope to share some useful test cases that I can more easily find/share with people as they seem to come up so often.</p>

<p>In the question/answer today I hope to show how you register a component/template and use it in a test when the dynamic <a href="https://github.com/emberjs/ember.js/pull/10093">component helper</a> is used. In this short example we need to render a custom component when a "custom" template name is passed in. This would allow the production app to render a dynamic view of the same data for example.</p>

<div data-gist=ec0a7f844a9e148a0b97f28f95ada228><script src='https://gist.github.com/toranb/ec0a7f844a9e148a0b97f28f95ada228.js'></script></div>

<p>In the test cases below you can see the first scenario shows a simple "not configured" example and it's not very unique or special. The interesting part of the second test is how we can register/or inject a custom component just for this test case. With the template configured this time around, we can watch how the component responds as we render it using the custom component helper.</p>

<div data-gist=f710021f45841a5bf7e2b9dfa540c4f7><script src='https://gist.github.com/toranb/f710021f45841a5bf7e2b9dfa540c4f7.js'></script></div>

<p>If you wanted to take this a step further you could write a special test that shows the runtime will indeed blow up if you try to render a component that is not available.</p>

<div data-gist=6625fe812b965ea0e5ecab5ab4d42b7b><script src='https://gist.github.com/toranb/6625fe812b965ea0e5ecab5ab4d42b7b.js'></script></div>

<p>To see the tests in action you can pull down this <a href="https://github.com/toranb/ember-redux-ddau-example/commits/master">example app</a> to learn more</p>
